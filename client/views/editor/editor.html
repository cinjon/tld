<!--TODO: new_person_input, like all of the typeaheads, are visually off-->
<template name="add_person">
  <button class="btn btn-primary left" id="add_{{id}}_button" type="button" style="margin-right:10px; width:80px; height:40px">
    <i class="fa fa-plus-square"> {{capitalize id}}</i>
  </button>

  <span id="new_person_input_span_{{id}}" class="left" style="display:none; width:160px">
    <input id="new_person_input_{{id}}" class="form-control left new_person_input smoke_3" style="width:inherit" type="text" placeholder="Enter {{capitalize id}} Name">
  </span>
</template>

<template name="character_cutoff">
  <small class="box_title lato light_font" style="display:inline-block;">
    <div style="color:{{current_notes_color}}; width:auto; max-width:55px">
      <span>{{current_char_counter}}</span>
      <span>&nbsp;/&nbsp;</span>
      <span>{{max_chars}}</span>
    </div>
  </small>
</template>

<template name="editor">
  <div class="container" style="height:700px; min-height:700px;">
    <div class="row inherit">
      <div class="col-md-5 inherit">
        <div class="row">
          <p id="show_title" class="white_text lato light_font">{{show_title}}</p>
        </div>
        <div class="row">
          <p id="episode_title" class="white_text lato bold_font"><b>{{episode_title}}</b></p>
        </div>
        <div class="row" id="episode_hosts" style="height:45px">
          {{> add_person add_host}}
          {{#each hosts}}
          <a class="remove_person" type="host">
            {{> small_person_display}}
          </a>
          {{/each}}
        </div>
        <div class="row" id="episode_guests" style="height:45px">
          {{> add_person add_guest}}
          {{#each guests}}
          <a class="remove_person" type="guest">
            {{> small_person_display}}
          </a>
          {{/each}}
        </div>
        <div class="row" style="margin-top:20px; margin-right:0px">
          {{#if has_episode}}
          {{> player episode_data}}
          {{/if}}
        </div>
      </div>
      <div class="col-md-7 inherit">
        <section class="scroller smoke_1" style="padding-top:0px; padding-left:0px; padding-right:0px; height: 100%; overflow-x:hidden">
          <div class="row" id="header" style="margin-bottom:10px; padding-left:65px; margin-left:0px">
            <div class="col-md-4">
              {{> editor_header_box header_draft}}
            </div>
            <div class="col-md-4">
              {{> editor_header_box header_review}}
            </div>
            <div class="col-md-4">
              {{> editor_header_box header_publish}}
            </div>
          </div>
          {{#if is_editor_mode "draft"}}
          {{> editor_mode_draft episode}}
          {{/if}}
          {{#if is_editor_mode "review"}}
          {{> editor_mode_review episode}}
          {{/if}}
          {{#if is_editor_mode "publish"}}
          {{> editor_mode_publish episode}}
          {{/if}}
        </section>
      </div>
    </div>
  </div>
  <div id="content_input_text_test" style="display:none; height:auto; width:auto;"></div>
</template>

<template name="editor_header_box">
  <div class="row lato bold_font" style="background-color:white">
    {{#if is_editor_mode key}}
    <div class="arrow_box_{{key}}">
      <button class="btn btn-block {{color_class}}" style="height:70px">
        <span style="text-align:center" class="white_text">{{title}}</span>
      </button>
    </div>
    {{else}}
    <button class="btn btn-block white" style="height:70px">
      <span class="{{color_class}}_text" style="text-align:center">{{title}}</span>
    </button>
    {{/if}}
  </div>
</template>

<template name="editor_highlight">
  <div class="left highlight_image">
    {{#if has_company}}
    {{> small_picture company}}
    {{/if}}
    {{#if has_person}}
    {{> small_picture person}}
    {{/if}}
    {{#if has_link}}
    {{> small_picture link}}
    {{/if}}
  </div>
  <div class="left highlight_text">
    <span class="highlight_type left lato bold_font" style="padding-right:10px;">
      {{text_limit type_title 18}}
    </span>
    {{#if is_editing_highlight_content}}
    <textarea rows="1" id="content_input" class="left lato light_font metal_1_text form-control" style="width:250px; margin-top:-5px; margin-right:10px">{{text}}</textarea>
    <div class="left" id="character_cutoff">
      {{> character_cutoff}}
    </div>
    {{else}}
    <span class="highlight_content left lato light_font metal_1_text">
      {{text}}
    </span>
    {{/if}}
  </div>
  <button class="btn btn-default btn-xs remove_highlight right" style="margin-right:10px">
    <i class="fa fa-times"></i>
  </button>
</template>

<template name="small_person_display">
  <div class="left" style="padding-right:10px">
    {{#if has_avatar}}
    <img class="picture" src="{{avatar}}">
    {{/if}}
  </div>
  <div class="left" style="padding-right:10px">
    <p class="white_text lato bold_font" style="margin-bottom:0px">{{text_limit name 18}}</p>
    {{#if has_twitter}}
    <p class="white_text lato regular_font" style="margin-bottom:0px">@{{twitter}}</p>
    {{/if}}
  </div>
</template>

<template name="small_picture">
  <span style="width:auto; position:relative; top:5px">
    {{#if is_type "link"}}
    <i class="fa fa-link fa-rotate-135" style="font-size:1.2em"></i>
    {{/if}}
    {{#if is_type "company"}}
    <i class="fa fa-users" style="font-size:1.2em"></i>
    {{/if}}
    {{#if is_type "person"}}
    <img class="picture" src="{{img}}">
    {{/if}}
  </span>
</template>
