<template name="editor_mode_publish">
  <div class="editor_mode_publish">
    <div id="editor_stats">
      {{> editor_stats}}
    </div>
    <div id="editor_summary" contenteditable="true" class="contenteditable {{incomplete_summary}}">
      {{summary}}
    </div>
    <div class="episode_people">
      {{#each hosts}}
      {{> editable_profile}}
      {{/each}}
      {{#each guests}}
      {{> editable_profile}}
      {{/each}}
    </div>
    <button class="btn btn-block" id="set_postedited_true" {{disabled}}>
      {{title}} is Ready for Prime Time
    </button>
  </div>
</template>

<template name="editable_profile">
  <span class="small_person_display">
    {{#if has_avatar}}
    <img class="picture" src="{{avatar}}">
    {{else}}
    <span class="picture-placeholder"></span>
    {{/if}}
    <div class="details">
      {{#if is_editing_name}}
      <input id="set_name" value="{{capitalize first_name}} {{capitalize last_name}}">
      {{else}}
      <p class="name editable_profile">{{capitalize first_name}} {{capitalize last_name}}</p>
      {{/if}}
      {{#if is_editing_twitter}}
      @<input id="set_twitter" value="{{twitter}}">
      {{else}}
      <p class="twitter editable_profile">
        @{{twitter}}
      </p>
      {{/if}}
    </div>
  </span>
</template>

<template name="editor_stats">
  <p><span class="{{incomplete_title}}"><b>&quot;</b>{{title}}<b>&quot;</b></span></p>
  <p>{{num_hosts}} Hosts, {{num_guests}} Guests / <span class="{{incomplete_people}}">{{num_people}} People</span></p>
  <p>Chapters: <span class="{{incomplete_chapters}}">{{num_incomplete_chapters}} / {{num_chapters}}</span>, Links: <span class="{{incomplete_urls}}">{{num_incomplete_urls}} / {{num_urls}}</span></p>
</template>
